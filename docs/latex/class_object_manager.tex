\doxysection{Object\+Manager Class Reference}
\hypertarget{class_object_manager}{}\label{class_object_manager}\index{ObjectManager@{ObjectManager}}


Manages the lifecycle, visibility, and rendering of Game\+Objects in a scene.  




{\ttfamily \#include $<$Object\+Manager.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_object_manager_ac0c94ca0c02a3843a527825286657dcc}{Add\+Object}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{class_game_object}{Game\+Object}} $>$ obj, const std\+::string \&tag="{}"{})
\begin{DoxyCompactList}\small\item\em Adds a new \doxylink{class_game_object}{Game\+Object} to the manager. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_object_manager_ad7d870215c2f3033b6f2641e4c9dc8da}{Init\+All}} (const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&engine\+Context)
\begin{DoxyCompactList}\small\item\em Calls Init() and Late\+Init() on all active objects. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_object_manager_a00c892376f4874c2f033a69526e18111}{Update\+All}} (float dt, const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&engine\+Context)
\begin{DoxyCompactList}\small\item\em Updates all alive objects and processes creation/deletion. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_object_manager_af5c6a21a87c2fa4204462cacbe07c439}{Add\+All\+Pending\+Objects}} (const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&engine\+Context)
\begin{DoxyCompactList}\small\item\em Initializes all pending objects and promotes them to active list. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_object_manager_a6150e34acf9947f2d2e36040d472df5f}{Erase\+Dead\+Objects}} (const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&engine\+Context)
\begin{DoxyCompactList}\small\item\em Deletes all objects marked as dead (Is\+Alive == false). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_object_manager_a3c02b8caf296aad4f4b582954b0080b4}{Draw\+All}} (const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&engine\+Context, \mbox{\hyperlink{class_camera2_d}{Camera2D}} \texorpdfstring{$\ast$}{*}camera)
\begin{DoxyCompactList}\small\item\em Draws all visible objects using view frustum culling and instancing. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_object_manager_a4afc2f27ecb2af80d870ccb108b6c251}{Draw\+Objects}} (const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&engine\+Context, \mbox{\hyperlink{class_camera2_d}{Camera2D}} \texorpdfstring{$\ast$}{*}camera, const std\+::vector$<$ \mbox{\hyperlink{class_game_object}{Game\+Object}} \texorpdfstring{$\ast$}{*} $>$ \&game\+Objects)
\begin{DoxyCompactList}\small\item\em Draws only the objects in the provided list using frustum culling. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_object_manager_a54cc897ed8451b94b01f4f4306b2a1b0}{Draw\+Objects\+With\+Tag}} (const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&engine\+Context, \mbox{\hyperlink{class_camera2_d}{Camera2D}} \texorpdfstring{$\ast$}{*}camera, const std\+::string \&tag)
\begin{DoxyCompactList}\small\item\em Draws only the objects with the given tag if alive and visible. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_object_manager_a2dcf63228b4ed4b45ae19304946f923f}{Free\+All}} (const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&engine\+Context)
\begin{DoxyCompactList}\small\item\em Frees and clears all currently held objects. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_game_object}{Game\+Object}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_object_manager_a61b0450b3cf32c9532f96f70787a8e67}{Find\+By\+ID}} (const std\+::string \&id) const
\begin{DoxyCompactList}\small\item\em Returns a pointer to the object with the given string ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{_object_manager_8h_ac21c42be3863d1e33440c7ecaff04b00}{Render\+Map}} \mbox{\hyperlink{class_object_manager_ad3197fefddc56b91c61af514314dc604}{Build\+Render\+Map}} (const std\+::vector$<$ \mbox{\hyperlink{class_game_object}{Game\+Object}} \texorpdfstring{$\ast$}{*} $>$ \&source)
\begin{DoxyCompactList}\small\item\em Organizes Game\+Objects into a batched render map based on layer, shader, and instancing key. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_object_manager_ac51031bd4f309f45a6dfda4c1b4c9ea4}{Submit\+Render\+Map}} (const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&engine\+Context, \mbox{\hyperlink{class_camera2_d}{Camera2D}} \texorpdfstring{$\ast$}{*}camera, const \mbox{\hyperlink{_object_manager_8h_ac21c42be3863d1e33440c7ecaff04b00}{Render\+Map}} \&render\+Map)
\begin{DoxyCompactList}\small\item\em Submits all render commands from the given render map. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{class_game_object}{Game\+Object}} $>$ $>$ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}}
\item 
std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{class_game_object}{Game\+Object}} $>$ $>$ \mbox{\hyperlink{class_object_manager_a4bd518be4b2cc15776baf4e31f6afb79}{pending\+Objects}}
\item 
std\+::vector$<$ \mbox{\hyperlink{class_game_object}{Game\+Object}} \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{class_object_manager_a61efdd3ad00401d32540282c0b66efee}{all\+Raw\+Ptrs}}
\item 
std\+::unordered\+\_\+map$<$ std\+::string, \mbox{\hyperlink{class_game_object}{Game\+Object}} \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{class_object_manager_aeccdc4a08a21149360f559f70db73ef5}{object\+Map}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages the lifecycle, visibility, and rendering of Game\+Objects in a scene. 

\doxylink{class_object_manager}{Object\+Manager} stores and maintains all Game\+Objects that exist in a scene or state. It handles registration, initialization, per-\/frame updates, visibility culling, sorting, instanced and non-\/instanced rendering, and safe destruction of dead objects.

Object access\+:
\begin{DoxyItemize}
\item Active objects are held in \textquotesingle{}objects\textquotesingle{}.
\item Pending objects are added to \textquotesingle{}pending\+Objects\textquotesingle{} and initialized next frame.
\item \textquotesingle{}object\+Map\textquotesingle{} maps string tags to raw pointers for ID-\/based lookup. 
\end{DoxyItemize}

Definition at line \mbox{\hyperlink{_object_manager_8h_source_l00095}{95}} of file \mbox{\hyperlink{_object_manager_8h_source}{Object\+Manager.\+h}}.



\label{doc-func-members}
\Hypertarget{class_object_manager_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{class_object_manager_af5c6a21a87c2fa4204462cacbe07c439}\index{ObjectManager@{ObjectManager}!AddAllPendingObjects@{AddAllPendingObjects}}
\index{AddAllPendingObjects@{AddAllPendingObjects}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{AddAllPendingObjects()}{AddAllPendingObjects()}}
{\footnotesize\ttfamily \label{class_object_manager_af5c6a21a87c2fa4204462cacbe07c439} 
void Object\+Manager\+::\+Add\+All\+Pending\+Objects (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&}]{engine\+Context}{}\end{DoxyParamCaption})}



Initializes all pending objects and promotes them to active list. 


\begin{DoxyParams}{Parameters}
{\em engine\+Context} & Context for object setup. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00054}{54}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00055\ \{}
\DoxyCodeLine{00056\ \ \ \ \ std::vector<std::unique\_ptr<GameObject>>\ tmp;}
\DoxyCodeLine{00057\ \ \ \ \ std::swap(tmp,\ \mbox{\hyperlink{class_object_manager_a4bd518be4b2cc15776baf4e31f6afb79}{pendingObjects}});}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ obj\ :\ tmp)}
\DoxyCodeLine{00059\ \ \ \ \ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ obj-\/>Init(engineContext);}
\DoxyCodeLine{00061\ \ \ \ \ \}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ obj\ :\ tmp)}
\DoxyCodeLine{00063\ \ \ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ obj-\/>LateInit(engineContext);}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}}.push\_back(std::move(obj));}
\DoxyCodeLine{00066\ \ \ \ \ \}}
\DoxyCodeLine{00067\ \}}

\end{DoxyCode}
\Hypertarget{class_object_manager_ac0c94ca0c02a3843a527825286657dcc}\index{ObjectManager@{ObjectManager}!AddObject@{AddObject}}
\index{AddObject@{AddObject}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{AddObject()}{AddObject()}}
{\footnotesize\ttfamily \label{class_object_manager_ac0c94ca0c02a3843a527825286657dcc} 
void Object\+Manager\+::\+Add\+Object (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{class_game_object}{Game\+Object}} $>$}]{obj}{, }\item[{const std\+::string \&}]{tag}{ = {\ttfamily "{}"{}}}\end{DoxyParamCaption})}



Adds a new \doxylink{class_game_object}{Game\+Object} to the manager. 

If a non-\/empty tag is provided and already exists, a warning is logged. The object is not immediately initialized-\/see \doxylink{class_object_manager_af5c6a21a87c2fa4204462cacbe07c439}{Add\+All\+Pending\+Objects()}.


\begin{DoxyParams}{Parameters}
{\em obj} & Unique pointer to the \doxylink{class_game_object}{Game\+Object}. \\
\hline
{\em tag} & Optional string ID to allow \doxylink{class_object_manager_a61b0450b3cf32c9532f96f70787a8e67}{Find\+By\+ID()} access.\\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{objectManager.AddObject(std::make\_unique<Enemy>(),\ \textcolor{stringliteral}{"{}enemy\_01"{}});}

\end{DoxyCode}
 

Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00009}{9}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00010\ \{}
\DoxyCodeLine{00011\ \ \ \ \ assert(obj\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ \textcolor{stringliteral}{"{}Cannot\ add\ null\ object"{}});}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \ \ \ \ obj-\/>SetTag(tag);}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keywordflow}{if}\ (!tag.empty())}
\DoxyCodeLine{00016\ \ \ \ \ \{}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_object_manager_aeccdc4a08a21149360f559f70db73ef5}{objectMap}}.find(tag)\ !=\ \mbox{\hyperlink{class_object_manager_aeccdc4a08a21149360f559f70db73ef5}{objectMap}}.end())}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_debug_8h_a76dcc2dada341abb94ed74214eca553a}{SNAKE\_WRN}}(\textcolor{stringliteral}{"{}Duplicate\ GameObject\ ID"{}});}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ GameObject*\ rawPointer\ =\ obj.get();}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_object_manager_aeccdc4a08a21149360f559f70db73ef5}{objectMap}}[tag]\ =\ rawPointer;}
\DoxyCodeLine{00022\ \ \ \ \ \}}
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{class_object_manager_a61efdd3ad00401d32540282c0b66efee}{allRawPtrs}}.push\_back(obj.get());}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{class_object_manager_a4bd518be4b2cc15776baf4e31f6afb79}{pendingObjects}}.push\_back(std::move(obj));}
\DoxyCodeLine{00025\ \}}

\end{DoxyCode}
\Hypertarget{class_object_manager_ad3197fefddc56b91c61af514314dc604}\index{ObjectManager@{ObjectManager}!BuildRenderMap@{BuildRenderMap}}
\index{BuildRenderMap@{BuildRenderMap}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{BuildRenderMap()}{BuildRenderMap()}}
{\footnotesize\ttfamily \label{class_object_manager_ad3197fefddc56b91c61af514314dc604} 
\mbox{\hyperlink{_object_manager_8h_ac21c42be3863d1e33440c7ecaff04b00}{Render\+Map}} Object\+Manager\+::\+Build\+Render\+Map (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{class_game_object}{Game\+Object}} \texorpdfstring{$\ast$}{*} $>$ \&}]{source}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [nodiscard]}, {\ttfamily [private]}}



Organizes Game\+Objects into a batched render map based on layer, shader, and instancing key. 

Groups all visible Game\+Objects into a hierarchical map structure\+:
\begin{DoxyItemize}
\item First by render layer (int)
\item Then by Shader\texorpdfstring{$\ast$}{*}
\item Then by (\doxylink{class_mesh}{Mesh} + \doxylink{class_material}{Material}) key
\end{DoxyItemize}

Used for efficient render submission and instancing.


\begin{DoxyParams}{Parameters}
{\em source} & List of visible Game\+Objects to include in the batch. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{_object_manager_8h_ac21c42be3863d1e33440c7ecaff04b00}{Render\+Map} structure used for sorting and submission. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00158}{158}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00159\ \{}
\DoxyCodeLine{00160\ \ \ \ \ std::map<int,\ ShaderMap>\ renderMap;}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}*\ obj\ :\ source)}
\DoxyCodeLine{00163\ \ \ \ \ \{}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!obj\ ||\ !obj-\/>IsVisible())}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ Material*\ material\ =\ obj-\/>GetMaterial();}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ Mesh*\ mesh\ =\ obj-\/>GetMesh();}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ Shader*\ shader\ =\ material\ ?\ material-\/>\mbox{\hyperlink{class_material_a7b5cb52b3d21fc071a614b6051e816f7}{GetShader}}()\ :\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!material\ ||\ !mesh\ ||\ !shader)}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ InstanceBatchKey\ key\{\ mesh,\ material\ \};}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ renderMap[obj-\/>GetRenderLayer()][shader][key].push\_back(obj);}
\DoxyCodeLine{00176\ \ \ \ \ \}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordflow}{return}\ renderMap;}
\DoxyCodeLine{00179\ \}}

\end{DoxyCode}
\Hypertarget{class_object_manager_a3c02b8caf296aad4f4b582954b0080b4}\index{ObjectManager@{ObjectManager}!DrawAll@{DrawAll}}
\index{DrawAll@{DrawAll}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{DrawAll()}{DrawAll()}}
{\footnotesize\ttfamily \label{class_object_manager_a3c02b8caf296aad4f4b582954b0080b4} 
void Object\+Manager\+::\+Draw\+All (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&}]{engine\+Context}{, }\item[{\mbox{\hyperlink{class_camera2_d}{Camera2D}} \texorpdfstring{$\ast$}{*}}]{camera}{}\end{DoxyParamCaption})}



Draws all visible objects using view frustum culling and instancing. 


\begin{DoxyItemize}
\item Culls objects outside of camera view.
\item Builds and submits optimized render batches.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em engine\+Context} & Engine systems (includes \doxylink{class_render_manager}{Render\+Manager}). \\
\hline
{\em camera} & Camera used to determine visibility and projection. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00099}{99}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00100\ \{}
\DoxyCodeLine{00101\ \ \ \ \ std::cout\ <<\ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}}.size()\ <<\ std::endl;}
\DoxyCodeLine{00102\ \ \ \ \ std::vector<GameObject*>\ visibleObjects;}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{class_frustum_culler_aa4192022ba99e757949f6aa20fb60085}{FrustumCuller::CullVisible}}(*camera,\ \mbox{\hyperlink{class_object_manager_a61efdd3ad00401d32540282c0b66efee}{allRawPtrs}},\ visibleObjects,glm::vec2(engineContext.\mbox{\hyperlink{struct_engine_context_ab6fa006055c2a224931059f7ed840bed}{windowManager}}-\/>\mbox{\hyperlink{class_window_manager_ad8e16ad88c8eb3e3889d5c3dbe7891cb}{GetWidth}}(),\ engineContext.\mbox{\hyperlink{struct_engine_context_ab6fa006055c2a224931059f7ed840bed}{windowManager}}-\/>\mbox{\hyperlink{class_window_manager_a50c9f12a67f69e822b4e70077773c9ca}{GetHeight}}()));}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{_object_manager_8h_af06c6289a6847d547d7480421d34e14b}{ShaderMap}}\ =\ std::map<Shader*,\ std::map<InstanceBatchKey,\ std::vector<GameObject*>>>;}
\DoxyCodeLine{00105\ \ \ \ \ std::map<int,\ ShaderMap>\ renderMap\ =\ \mbox{\hyperlink{class_object_manager_ad3197fefddc56b91c61af514314dc604}{BuildRenderMap}}(visibleObjects);}
\DoxyCodeLine{00106\ \ \ \ \ \mbox{\hyperlink{class_object_manager_ac51031bd4f309f45a6dfda4c1b4c9ea4}{SubmitRenderMap}}(engineContext,\ camera,\ renderMap);}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \}}

\end{DoxyCode}
\Hypertarget{class_object_manager_a4afc2f27ecb2af80d870ccb108b6c251}\index{ObjectManager@{ObjectManager}!DrawObjects@{DrawObjects}}
\index{DrawObjects@{DrawObjects}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{DrawObjects()}{DrawObjects()}}
{\footnotesize\ttfamily \label{class_object_manager_a4afc2f27ecb2af80d870ccb108b6c251} 
void Object\+Manager\+::\+Draw\+Objects (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&}]{engine\+Context}{, }\item[{\mbox{\hyperlink{class_camera2_d}{Camera2D}} \texorpdfstring{$\ast$}{*}}]{camera}{, }\item[{const std\+::vector$<$ \mbox{\hyperlink{class_game_object}{Game\+Object}} \texorpdfstring{$\ast$}{*} $>$ \&}]{game\+Objects}{}\end{DoxyParamCaption})}



Draws only the objects in the provided list using frustum culling. 


\begin{DoxyParams}{Parameters}
{\em engine\+Context} & Shared systems. \\
\hline
{\em camera} & Camera used for culling. \\
\hline
{\em game\+Objects} & List of Game\+Objects to attempt to draw. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00110}{110}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00111\ \{}
\DoxyCodeLine{00112\ \ \ \ \ std::vector<GameObject*>\ visibleObjects;}
\DoxyCodeLine{00113\ \ \ \ \ \mbox{\hyperlink{class_frustum_culler_aa4192022ba99e757949f6aa20fb60085}{FrustumCuller::CullVisible}}(*camera,\ gameObjects,\ visibleObjects,\ glm::vec2(engineContext.\mbox{\hyperlink{struct_engine_context_ab6fa006055c2a224931059f7ed840bed}{windowManager}}-\/>\mbox{\hyperlink{class_window_manager_ad8e16ad88c8eb3e3889d5c3dbe7891cb}{GetWidth}}(),\ engineContext.\mbox{\hyperlink{struct_engine_context_ab6fa006055c2a224931059f7ed840bed}{windowManager}}-\/>\mbox{\hyperlink{class_window_manager_a50c9f12a67f69e822b4e70077773c9ca}{GetHeight}}()));}
\DoxyCodeLine{00114\ \ \ \ \ std::map<int,\ ShaderMap>\ renderMap\ =\ \mbox{\hyperlink{class_object_manager_ad3197fefddc56b91c61af514314dc604}{BuildRenderMap}}(visibleObjects);}
\DoxyCodeLine{00115\ \ \ \ \ \mbox{\hyperlink{class_object_manager_ac51031bd4f309f45a6dfda4c1b4c9ea4}{SubmitRenderMap}}(engineContext,\ camera,\ renderMap);}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \}}

\end{DoxyCode}
\Hypertarget{class_object_manager_a54cc897ed8451b94b01f4f4306b2a1b0}\index{ObjectManager@{ObjectManager}!DrawObjectsWithTag@{DrawObjectsWithTag}}
\index{DrawObjectsWithTag@{DrawObjectsWithTag}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{DrawObjectsWithTag()}{DrawObjectsWithTag()}}
{\footnotesize\ttfamily \label{class_object_manager_a54cc897ed8451b94b01f4f4306b2a1b0} 
void Object\+Manager\+::\+Draw\+Objects\+With\+Tag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&}]{engine\+Context}{, }\item[{\mbox{\hyperlink{class_camera2_d}{Camera2D}} \texorpdfstring{$\ast$}{*}}]{camera}{, }\item[{const std\+::string \&}]{tag}{}\end{DoxyParamCaption})}



Draws only the objects with the given tag if alive and visible. 


\begin{DoxyParams}{Parameters}
{\em engine\+Context} & Context for draw submission. \\
\hline
{\em camera} & Culling and projection camera. \\
\hline
{\em tag} & Object ID to match. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00119}{119}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00120\ \{}
\DoxyCodeLine{00121\ \ \ \ \ std::vector<GameObject*>\ filteredObjects;}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{for}\ (GameObject*\ obj\ :\ \mbox{\hyperlink{class_object_manager_a61efdd3ad00401d32540282c0b66efee}{allRawPtrs}})}
\DoxyCodeLine{00123\ \ \ \ \ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (obj\ \&\&\ obj-\/>IsAlive()\ \&\&\ obj-\/>GetTag()\ ==\ tag)}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ filteredObjects.push\_back(obj);}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00128\ \ \ \ \ \}}
\DoxyCodeLine{00129\ \ \ \ \ std::vector<GameObject*>\ visibleObjects;}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{class_frustum_culler_aa4192022ba99e757949f6aa20fb60085}{FrustumCuller::CullVisible}}(*camera,\ filteredObjects,\ visibleObjects,\ glm::vec2(engineContext.\mbox{\hyperlink{struct_engine_context_ab6fa006055c2a224931059f7ed840bed}{windowManager}}-\/>\mbox{\hyperlink{class_window_manager_ad8e16ad88c8eb3e3889d5c3dbe7891cb}{GetWidth}}(),\ engineContext.\mbox{\hyperlink{struct_engine_context_ab6fa006055c2a224931059f7ed840bed}{windowManager}}-\/>\mbox{\hyperlink{class_window_manager_a50c9f12a67f69e822b4e70077773c9ca}{GetHeight}}()));}
\DoxyCodeLine{00131\ \ \ \ \ std::map<int,\ ShaderMap>\ renderMap\ =\ \mbox{\hyperlink{class_object_manager_ad3197fefddc56b91c61af514314dc604}{BuildRenderMap}}(visibleObjects);}
\DoxyCodeLine{00132\ \ \ \ \ \mbox{\hyperlink{class_object_manager_ac51031bd4f309f45a6dfda4c1b4c9ea4}{SubmitRenderMap}}(engineContext,\ camera,\ renderMap);}
\DoxyCodeLine{00133\ \}}

\end{DoxyCode}
\Hypertarget{class_object_manager_a6150e34acf9947f2d2e36040d472df5f}\index{ObjectManager@{ObjectManager}!EraseDeadObjects@{EraseDeadObjects}}
\index{EraseDeadObjects@{EraseDeadObjects}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{EraseDeadObjects()}{EraseDeadObjects()}}
{\footnotesize\ttfamily \label{class_object_manager_a6150e34acf9947f2d2e36040d472df5f} 
void Object\+Manager\+::\+Erase\+Dead\+Objects (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&}]{engine\+Context}{}\end{DoxyParamCaption})}



Deletes all objects marked as dead (Is\+Alive == false). 

Dead objects are removed after calling Free() and Late\+Free(). They are also removed from internal maps and pointer lists.


\begin{DoxyParams}{Parameters}
{\em engine\+Context} & Context for resource cleanup. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00069}{69}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00070\ \{}
\DoxyCodeLine{00071\ \ \ \ \ std::vector<GameObject*>\ deadObjects;}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ obj\ :\ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}})}
\DoxyCodeLine{00073\ \ \ \ \ \{}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!obj-\/>IsAlive())}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ deadObjects.push\_back(obj.get());}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ obj\ :\ deadObjects)}
\DoxyCodeLine{00080\ \ \ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ obj-\/>Free(engineContext);}
\DoxyCodeLine{00082\ \ \ \ \ \}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ obj\ :\ deadObjects)}
\DoxyCodeLine{00084\ \ \ \ \ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ obj-\/>LateFree(engineContext);}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_object_manager_aeccdc4a08a21149360f559f70db73ef5}{objectMap}}.erase(obj-\/>GetTag());}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_object_manager_a61efdd3ad00401d32540282c0b66efee}{allRawPtrs}}.erase(std::remove(\mbox{\hyperlink{class_object_manager_a61efdd3ad00401d32540282c0b66efee}{allRawPtrs}}.begin(),\ \mbox{\hyperlink{class_object_manager_a61efdd3ad00401d32540282c0b66efee}{allRawPtrs}}.end(),\ obj),\ \mbox{\hyperlink{class_object_manager_a61efdd3ad00401d32540282c0b66efee}{allRawPtrs}}.end());}
\DoxyCodeLine{00088\ \ \ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}}.erase(}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ std::remove\_if(\mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}}.begin(),\ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}}.end(),}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ [](\textcolor{keyword}{const}\ std::unique\_ptr<GameObject>\&\ obj)}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ !obj-\/>IsAlive();}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \}),}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}}.end());}
\DoxyCodeLine{00097\ \}}

\end{DoxyCode}
\Hypertarget{class_object_manager_a61b0450b3cf32c9532f96f70787a8e67}\index{ObjectManager@{ObjectManager}!FindByID@{FindByID}}
\index{FindByID@{FindByID}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{FindByID()}{FindByID()}}
{\footnotesize\ttfamily \label{class_object_manager_a61b0450b3cf32c9532f96f70787a8e67} 
\mbox{\hyperlink{class_game_object}{Game\+Object}} \texorpdfstring{$\ast$}{*} Object\+Manager\+::\+Find\+By\+ID (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{id}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [nodiscard]}}



Returns a pointer to the object with the given string ID. 


\begin{DoxyParams}{Parameters}
{\em id} & String tag of object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{class_game_object}{Game\+Object} pointer, or nullptr if not found. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00150}{150}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00151\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ \mbox{\hyperlink{class_object_manager_aeccdc4a08a21149360f559f70db73ef5}{objectMap}}.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ \mbox{\hyperlink{class_object_manager_aeccdc4a08a21149360f559f70db73ef5}{objectMap}}.end())}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ it-\/>second;}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00156\ \}}

\end{DoxyCode}
\Hypertarget{class_object_manager_a2dcf63228b4ed4b45ae19304946f923f}\index{ObjectManager@{ObjectManager}!FreeAll@{FreeAll}}
\index{FreeAll@{FreeAll}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{FreeAll()}{FreeAll()}}
{\footnotesize\ttfamily \label{class_object_manager_a2dcf63228b4ed4b45ae19304946f923f} 
void Object\+Manager\+::\+Free\+All (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&}]{engine\+Context}{}\end{DoxyParamCaption})}



Frees and clears all currently held objects. 

Should be called when the \doxylink{class_game_state}{Game\+State} is shutting down.


\begin{DoxyParams}{Parameters}
{\em engine\+Context} & Context used during Free(). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00135}{135}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00136\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ obj\ :\ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}})}
\DoxyCodeLine{00138\ \ \ \ \ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ obj-\/>Free(engineContext);}
\DoxyCodeLine{00140\ \ \ \ \ \}}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ obj\ :\ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}})}
\DoxyCodeLine{00142\ \ \ \ \ \{}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ obj-\/>LateFree(engineContext);}
\DoxyCodeLine{00144\ \ \ \ \ \}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}}.clear();}
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{class_object_manager_aeccdc4a08a21149360f559f70db73ef5}{objectMap}}.clear();}
\DoxyCodeLine{00148\ \}}

\end{DoxyCode}
\Hypertarget{class_object_manager_ad7d870215c2f3033b6f2641e4c9dc8da}\index{ObjectManager@{ObjectManager}!InitAll@{InitAll}}
\index{InitAll@{InitAll}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{InitAll()}{InitAll()}}
{\footnotesize\ttfamily \label{class_object_manager_ad7d870215c2f3033b6f2641e4c9dc8da} 
void Object\+Manager\+::\+Init\+All (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&}]{engine\+Context}{}\end{DoxyParamCaption})}



Calls Init() and Late\+Init() on all active objects. 

Should be called once when the scene is fully loaded.


\begin{DoxyParams}{Parameters}
{\em engine\+Context} & Shared engine data (\doxylink{class_render_manager}{Render\+Manager}, \doxylink{class_input_manager}{Input\+Manager}, etc.) \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00029}{29}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00030\ \{}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ obj\ :\ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}})}
\DoxyCodeLine{00032\ \ \ \ \ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ obj-\/>Init(engineContext);}
\DoxyCodeLine{00034\ \ \ \ \ \}}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ obj\ :\ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}})}
\DoxyCodeLine{00036\ \ \ \ \ \{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ obj-\/>LateInit(engineContext);}
\DoxyCodeLine{00038\ \ \ \ \ \}}
\DoxyCodeLine{00039\ \}}

\end{DoxyCode}
\Hypertarget{class_object_manager_ac51031bd4f309f45a6dfda4c1b4c9ea4}\index{ObjectManager@{ObjectManager}!SubmitRenderMap@{SubmitRenderMap}}
\index{SubmitRenderMap@{SubmitRenderMap}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{SubmitRenderMap()}{SubmitRenderMap()}}
{\footnotesize\ttfamily \label{class_object_manager_ac51031bd4f309f45a6dfda4c1b4c9ea4} 
void Object\+Manager\+::\+Submit\+Render\+Map (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&}]{engine\+Context}{, }\item[{\mbox{\hyperlink{class_camera2_d}{Camera2D}} \texorpdfstring{$\ast$}{*}}]{camera}{, }\item[{const \mbox{\hyperlink{_object_manager_8h_ac21c42be3863d1e33440c7ecaff04b00}{Render\+Map}} \&}]{render\+Map}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Submits all render commands from the given render map. 

Iterates over the render map sorted by layer, shader, and instancing batch key.
\begin{DoxyItemize}
\item If the batch is instancing-\/compatible, submits a single instanced draw call.
\item Otherwise, submits individual draw calls for each object. Uniform binding and projection setup are batched and minimized.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em engine\+Context} & Context used to access render manager and global data. \\
\hline
{\em camera} & Camera providing the projection matrix. \\
\hline
{\em render\+Map} & Pre-\/batched render data (see \doxylink{class_object_manager_ad3197fefddc56b91c61af514314dc604}{Build\+Render\+Map()}). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00181}{181}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00183\ \{}
\DoxyCodeLine{00184\ \ \ \ \ Material*\ lastMaterial\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00185\ \ \ \ \ Shader*\ lastShader\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ [layer,\ shaderMap]\ :\ renderMap)}
\DoxyCodeLine{00188\ \ \ \ \ \{}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ [shader,\ batchMap]\ :\ shaderMap)}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ [key,\ batch]\ :\ batchMap)}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (batch.front()-\/>CanBeInstanced())}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ engineContext.\mbox{\hyperlink{struct_engine_context_a8f4c861adc4684975fa767ae4723e095}{renderManager}}-\/>\mbox{\hyperlink{class_render_manager_a5906c7d7d3fbcece5fe4851c520d3154}{Submit}}([=]()\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<glm::mat4>\ transforms;}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transforms.reserve(batch.size());}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}*\ obj\ :\ batch)}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transforms.push\_back(obj-\/>GetTransform2DMatrix());}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Material*\ material\ =\ key.material;}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Shader*\ currentShader\ =\ material-\/>\mbox{\hyperlink{class_material_a7b5cb52b3d21fc071a614b6051e816f7}{GetShader}}();}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (material\ !=\ lastMaterial)}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ material-\/>\mbox{\hyperlink{class_material_a1fd6c6c16d1f04e747470a2cc0c52fa1}{Bind}}();}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lastMaterial\ =\ material;}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (currentShader\ !=\ lastShader)}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ material-\/>\mbox{\hyperlink{class_material_a6c49cb3082a29e0d412577dad3cfde5f}{SetUniform}}(\textcolor{stringliteral}{"{}u\_Projection"{}},\ camera-\/>\mbox{\hyperlink{class_camera2_d_a01c3bcd77bfc25fa22b519edfb56a45b}{GetProjectionMatrix}}());}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lastShader\ =\ currentShader;}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ batch.front()-\/>Draw(engineContext);}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ material-\/>\mbox{\hyperlink{class_material_a39001e95de2408283f42efa7e8657a05}{SendUniforms}}();}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ key.mesh-\/>BindVAO();}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ material-\/>\mbox{\hyperlink{class_material_a68598fd0aa4da2c7db0e045b2352204d}{UpdateInstanceBuffer}}(transforms);}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ key.mesh-\/>DrawInstanced(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{_mesh_8h_a9289d5b99dc1f27f01480360f2e18ae0}{GLsizei}}\textcolor{keyword}{>}(transforms.size()));}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ material-\/>\mbox{\hyperlink{class_material_abe3526386e44d6a10fec0e6859dd564a}{UnBind}}();}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}*\ obj\ :\ batch)}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ engineContext.\mbox{\hyperlink{struct_engine_context_a8f4c861adc4684975fa767ae4723e095}{renderManager}}-\/>\mbox{\hyperlink{class_render_manager_a5906c7d7d3fbcece5fe4851c520d3154}{Submit}}([=]()\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Material*\ mat\ =\ key.material;}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Shader*\ currentShader\ =\ mat-\/>\mbox{\hyperlink{class_material_a7b5cb52b3d21fc071a614b6051e816f7}{GetShader}}();}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mat\ !=\ lastMaterial)}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mat-\/>\mbox{\hyperlink{class_material_a1fd6c6c16d1f04e747470a2cc0c52fa1}{Bind}}();}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lastMaterial\ =\ mat;}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (currentShader\ !=\ lastShader)}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mat-\/>\mbox{\hyperlink{class_material_a6c49cb3082a29e0d412577dad3cfde5f}{SetUniform}}(\textcolor{stringliteral}{"{}u\_Projection"{}},\ camera-\/>\mbox{\hyperlink{class_camera2_d_a01c3bcd77bfc25fa22b519edfb56a45b}{GetProjectionMatrix}}());}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lastShader\ =\ currentShader;}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ obj-\/>Draw(engineContext);}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mat-\/>\mbox{\hyperlink{class_material_a39001e95de2408283f42efa7e8657a05}{SendUniforms}}();}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ key.mesh-\/>Draw();}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mat-\/>\mbox{\hyperlink{class_material_abe3526386e44d6a10fec0e6859dd564a}{UnBind}}();}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00255\ \ \ \ \ \}}
\DoxyCodeLine{00256\ \}}

\end{DoxyCode}
\Hypertarget{class_object_manager_a00c892376f4874c2f033a69526e18111}\index{ObjectManager@{ObjectManager}!UpdateAll@{UpdateAll}}
\index{UpdateAll@{UpdateAll}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{UpdateAll()}{UpdateAll()}}
{\footnotesize\ttfamily \label{class_object_manager_a00c892376f4874c2f033a69526e18111} 
void Object\+Manager\+::\+Update\+All (\begin{DoxyParamCaption}\item[{float}]{dt}{, }\item[{const \mbox{\hyperlink{struct_engine_context}{Engine\+Context}} \&}]{engine\+Context}{}\end{DoxyParamCaption})}



Updates all alive objects and processes creation/deletion. 


\begin{DoxyItemize}
\item Dead objects are removed after Free() and Late\+Free().
\item New pending objects are initialized and promoted to active.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em dt} & Delta time. \\
\hline
{\em engine\+Context} & Engine context. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_object_manager_8cpp_source_l00042}{42}} of file \mbox{\hyperlink{_object_manager_8cpp_source}{Object\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ obj\ :\ \mbox{\hyperlink{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}{objects}})}
\DoxyCodeLine{00045\ \ \ \ \ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (obj-\/>IsAlive())}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ obj-\/>Update(dt,\ engineContext);}
\DoxyCodeLine{00048\ \ \ \ \ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{class_object_manager_a6150e34acf9947f2d2e36040d472df5f}{EraseDeadObjects}}(engineContext);}
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{class_object_manager_af5c6a21a87c2fa4204462cacbe07c439}{AddAllPendingObjects}}(engineContext);}
\DoxyCodeLine{00052\ \}}

\end{DoxyCode}


\label{doc-variable-members}
\Hypertarget{class_object_manager_doc-variable-members}
\doxysubsection{Member Data Documentation}
\Hypertarget{class_object_manager_a61efdd3ad00401d32540282c0b66efee}\index{ObjectManager@{ObjectManager}!allRawPtrs@{allRawPtrs}}
\index{allRawPtrs@{allRawPtrs}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{allRawPtrs}{allRawPtrs}}
{\footnotesize\ttfamily \label{class_object_manager_a61efdd3ad00401d32540282c0b66efee} 
std\+::vector$<$\mbox{\hyperlink{class_game_object}{Game\+Object}}\texorpdfstring{$\ast$}{*}$>$ Object\+Manager\+::all\+Raw\+Ptrs\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_object_manager_8h_source_l00237}{237}} of file \mbox{\hyperlink{_object_manager_8h_source}{Object\+Manager.\+h}}.

\Hypertarget{class_object_manager_aeccdc4a08a21149360f559f70db73ef5}\index{ObjectManager@{ObjectManager}!objectMap@{objectMap}}
\index{objectMap@{objectMap}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{objectMap}{objectMap}}
{\footnotesize\ttfamily \label{class_object_manager_aeccdc4a08a21149360f559f70db73ef5} 
std\+::unordered\+\_\+map$<$std\+::string, \mbox{\hyperlink{class_game_object}{Game\+Object}}\texorpdfstring{$\ast$}{*}$>$ Object\+Manager\+::object\+Map\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_object_manager_8h_source_l00239}{239}} of file \mbox{\hyperlink{_object_manager_8h_source}{Object\+Manager.\+h}}.

\Hypertarget{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0}\index{ObjectManager@{ObjectManager}!objects@{objects}}
\index{objects@{objects}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{objects}{objects}}
{\footnotesize\ttfamily \label{class_object_manager_a4516116ba3b6178e479e12b4d2eff4c0} 
std\+::vector$<$std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{class_game_object}{Game\+Object}}$>$ $>$ Object\+Manager\+::objects\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_object_manager_8h_source_l00235}{235}} of file \mbox{\hyperlink{_object_manager_8h_source}{Object\+Manager.\+h}}.

\Hypertarget{class_object_manager_a4bd518be4b2cc15776baf4e31f6afb79}\index{ObjectManager@{ObjectManager}!pendingObjects@{pendingObjects}}
\index{pendingObjects@{pendingObjects}!ObjectManager@{ObjectManager}}
\doxysubsubsection{\texorpdfstring{pendingObjects}{pendingObjects}}
{\footnotesize\ttfamily \label{class_object_manager_a4bd518be4b2cc15776baf4e31f6afb79} 
std\+::vector$<$std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{class_game_object}{Game\+Object}}$>$ $>$ Object\+Manager\+::pending\+Objects\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_object_manager_8h_source_l00236}{236}} of file \mbox{\hyperlink{_object_manager_8h_source}{Object\+Manager.\+h}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Project/\+SNAKE\+\_\+\+Engine/\+Public/\mbox{\hyperlink{_object_manager_8h}{Object\+Manager.\+h}}\item 
Project/\+SNAKE\+\_\+\+Engine/\+Private/\mbox{\hyperlink{_object_manager_8cpp}{Object\+Manager.\+cpp}}\end{DoxyCompactItemize}
